<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Firebase Auth Demo</title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    .valid-check {
      color: green;
    }
    .invalid-check {
      color: red;
    }
    .loading {
      cursor: not-allowed;
      opacity: 0.7;
    }
  </style>
</head>
<body class="bg-light">

<nav class="navbar navbar-light bg-white shadow-sm mb-4">
  <div class="container">
    <span class="navbar-brand mb-0 h1">ðŸ”¥ Auth Demo</span>
    <button id="logoutBtn" class="btn btn-outline-danger d-none">Log out</button>
  </div>
</nav>

<div class="container" id="authContainer">
  <ul class="nav nav-tabs mb-3" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" data-bs-toggle="tab"
              data-bs-target="#loginTab" type="button">Login</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" data-bs-toggle="tab"
              data-bs-target="#signupTab" type="button">Sign up</button>
    </li>
  </ul>

  <div class="tab-content">
    <!-- Login -->
    <div class="tab-pane fade show active" id="loginTab">
      <form id="loginForm" class="card card-body shadow-sm">
        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email" id="loginEmail" class="form-control" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Password</label>
          <input type="password" id="loginPass" class="form-control" required>
        </div>
        <div class="mb-3 form-check">
          <input type="checkbox" class="form-check-input" id="rememberMe">
          <label class="form-check-label" for="rememberMe">Remember me</label>
        </div>
        <button class="btn btn-primary w-100" type="submit">
          <span class="spinner-border spinner-border-sm d-none" id="loginSpinner" role="status" aria-hidden="true"></span>
          <span id="loginBtnText">Log in</span>
        </button>
      </form>
    </div>

    <!-- Signup -->
    <div class="tab-pane fade" id="signupTab">
      <form id="signupForm" class="card card-body shadow-sm">
        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email" id="signEmail" class="form-control" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Password</label>
          <input type="password" id="signPass" class="form-control" required minlength="6"
                 pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}"
                 title="Must contain at least one number, one uppercase and lowercase letter, and at least 6 characters">
          <div class="form-text" id="passwordHelpBlock">
            Password must contain:
            <ul class="mb-0">
              <li id="length-check">At least 6 characters</li>
              <li id="uppercase-check">At least 1 uppercase letter</li>
              <li id="lowercase-check">At least 1 lowercase letter</li>
              <li id="number-check">At least 1 number</li>
            </ul>
          </div>
        </div>
        <button class="btn btn-success w-100" type="submit">
          <span class="spinner-border spinner-border-sm d-none" id="signupSpinner" role="status" aria-hidden="true"></span>
          <span id="signupBtnText">Create account</span>
        </button>
      </form>
    </div>
  </div>

  <div id="status" class="alert alert-info mt-4 d-none"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="script.js"></script>
</body>
</html>
